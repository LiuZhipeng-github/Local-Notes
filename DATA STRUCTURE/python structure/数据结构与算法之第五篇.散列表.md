# 数据结构与算法之第五篇.散列表与python的dict和set 
## 1、**字典**

![这里写图片描述](%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%B9%8B%E7%AC%AC%E4%BA%94%E7%AF%87.%E6%95%A3%E5%88%97%E8%A1%A8.assets/SouthEast-20201201192824301)

### 1.1 **字典操作和效率**

![这里写图片描述](%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%B9%8B%E7%AC%AC%E4%BA%94%E7%AF%87.%E6%95%A3%E5%88%97%E8%A1%A8.assets/SouthEast-20201201192837092)

### 1.2 **字典和索引**

![这里写图片描述](%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%B9%8B%E7%AC%AC%E4%BA%94%E7%AF%87.%E6%95%A3%E5%88%97%E8%A1%A8.assets/SouthEast-20201201192836595)

### 1.3 **字典抽象数据类型**

![这里写图片描述](%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%B9%8B%E7%AC%AC%E4%BA%94%E7%AF%87.%E6%95%A3%E5%88%97%E8%A1%A8.assets/SouthEast-20201201192826627)

对于**动态字典**，还需支持**插入**和**删除**元素。


## 2、 字典线性表实现

### 2.1 **二分法算法分析**

![这里写图片描述](%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%B9%8B%E7%AC%AC%E4%BA%94%E7%AF%87.%E6%95%A3%E5%88%97%E8%A1%A8.assets/SouthEast-20201201192826333)

### 2.2 字典线性表总结

![这里写图片描述](%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%B9%8B%E7%AC%AC%E4%BA%94%E7%AF%87.%E6%95%A3%E5%88%97%E8%A1%A8.assets/SouthEast-20201201192829183)

### 2.3 **问题和思考**

![这里写图片描述](%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%B9%8B%E7%AC%AC%E4%BA%94%E7%AF%87.%E6%95%A3%E5%88%97%E8%A1%A8.assets/SouthEast-20201201192828587)

## 3、 散列和散列表

首先讨论**散列技术**及其在字典方面的应用，即所谓的**散列表**（hash table）。

### 3.1 散列的思想和应用
散列表的英文叫“Hash Table”，也叫它“哈希表”或者“Hash 表”，散列表用的是数组支持按照下标随机访问数据的特性，是数组的一种扩展。

散列表利用了数组按照下标随机访问的时候时间复杂度是 O(1) 的特性。通过散列函数把元素的键值映射为下标，然后将数据存储在数组中对应下标的位置。当按照键值查询元素时，用同样的散列函数，将键值转化数组下标，从对应的数组下标的位置取数据。

![这里写图片描述](%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%B9%8B%E7%AC%AC%E4%BA%94%E7%AF%87.%E6%95%A3%E5%88%97%E8%A1%A8.assets/SouthEast-20201201192830232)

### 3.2 **散列技术：设计和性质**

![这里写图片描述](%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%B9%8B%E7%AC%AC%E4%BA%94%E7%AF%87.%E6%95%A3%E5%88%97%E8%A1%A8.assets/SouthEast-20201201192831037)
这说明，在通常情况下，**散列函数h**是一个从**大集合到小集合**的**映射**。

### 3.3 散列函数

![这里写图片描述](%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%B9%8B%E7%AC%AC%E4%BA%94%E7%AF%87.%E6%95%A3%E5%88%97%E8%A1%A8.assets/SouthEast-20201201192848558)
散列函数，可以定义成hash(key)，其中 key 表示元素的键值，hash(key) 的值表示经过散列函数计算得到的散列值。

散列函数，顾名思义，它是一个函数。我们可以把它定义成hash(key)，其中 key 表示元素的键值，hash(key) 的值表示经过散列函数计算得到的散列值。

散列函数设计的三点基本要求：
（1）散列函数计算得到的散列值是一个非负整数；
（2）如果 key1 = key2，那 hash(key1) == hash(key2)；
（3）如果 key1 ≠ key2，那 hash(key1) ≠ hash(key2)。
对于第一点，因为数组下标是从 0 开始的，所以散列函数生成的散列值也要是非负整数。
对于第二点，相同的 key，经过散列函数得到的散列值也应该是相同的。
对于第三点，几乎无法找到一个完美的无冲突的散列函数，即便像业界著名的MD5、SHA、CRC等哈希算法，也无法完全避免这种散列冲突。而且，因为数组的存储空间有限，也会加大散列冲突的概率。针对散列冲突问题，需要通过其他途径来解决。
**用于整数关键码的若干散列方法**

 **数字分析法**：
 **折叠法**：
 **中平方法**：

**通俗地讲，散列函数的映射关系越乱越好，越不清晰越好**

##### **常用散列函数**

两种常用的散列函数：
\- **除余法**，适用于**整数关键码**。
\- **基数转换法**，适用于**整数**或**字符串关键码**。








### 3.4 冲突的内消解：开地址技术

冲突消解方法：
\- **内消解**方法（在**基本的存储区内部**解决冲突问题）。
\- **外消解**方法（在**基本的存储区之外**解决冲突）。

##### **开地址法和探查序列**

##### **开地址法示例**

##### **检索和删除**



### 3.5 外消解技术

**溢出区方法**

![这里写图片描述](%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%B9%8B%E7%AC%AC%E4%BA%94%E7%AF%87.%E6%95%A3%E5%88%97%E8%A1%A8.assets/SouthEast-20201201192833541)

**桶散列**






## 4、 集合

### 4.1 **概念和集合描述**
对于set（集合）更加复杂，这里先列出它的一些性质。
（1）确定性：集合中的元素必须是确定的；
（2）互异性：集合中的元素互不相同，例如：集合A={1，a}，则a不能等于1）；
（3）无序性：集合中的元素没有先后之分，例如：集合{3,4,5}和{3,5,4}算作同一个集合。
　　Python 3.x中的set特征与数学中类似。其实，set与dict大致相同，但set没有Value，只有key。因此，set只是一组key的集合。由于key不能重复，所以，在set中，没有重复的key。

### 4.2**抽象数据类型**

![这里写图片描述](%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%B9%8B%E7%AC%AC%E4%BA%94%E7%AF%87.%E6%95%A3%E5%88%97%E8%A1%A8.assets/SouthEast-20201201192837437)

### 4.3 集合的实现原理

  dict与set实现原理是一样的，都是将实际的值放到list中。唯一不同的在于hash函数操作的对象，对于dict，hash函数操作的是其key，而对于set是直接操作的它的元素，假设操作内容为x，其作为因变量，放入hash函数，通过运算后取list的余数，转化为一个list的下标，此下标位置对于set而言用来放其本身，而对于dict则是创建了两个list，一个list该下表放此key，另一个list中该下标方对应的value。

　　其中，我们把实现set的方式叫做Hash Set，实现dict的方式叫做Hash Map/Table(注：map指的就是通过key来寻找value的过程)



